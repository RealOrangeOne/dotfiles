#!/usr/bin/env python3
import json
import sys
import os

ARGS = sys.argv[1:]

if not os.isatty(0):
    data = sys.stdin.read()
else:
    with open(ARGS.pop(0)) as f:
        data = '\n'.join(f.readlines())

parsed_data = json.dumps(json.loads(data), indent=2, sort_keys=True)

if ARGS:
    with open(ARGS[0], 'w') as f:
        f.write(parsed_data)
else:
    sys.stdout.write(parsed_data)
