- name: "Install dev packages"
  aur:
    skip_installed: true
    name: "{{ item }}"
  become: true
  become_user: aur_builder
  when: "item not in installed_packages.stdout_lines"
  with_items:
    - 'arduino'
    - 'arduino-cli'
    - 'arduino-builder'
    - 'ccache'
    - 'hugo'
    - 'postgresql'
    - 'postman-bin'
    - 'sublime-text'
    - 'tig'
    - 'zola-bin'

- name: "Create global .gitignore"
  copy:
    src: './files/gitignore_global'
    dest: '{{ home }}/.config/.gitignore'
    mode: 0644
    owner: "{{ user }}"

- template:
    src: ./files/gitconfig.conf
    dest: "{{ home }}/.gitconfig"
    mode: 0644
    owner: "{{ user }}"
    group: users
